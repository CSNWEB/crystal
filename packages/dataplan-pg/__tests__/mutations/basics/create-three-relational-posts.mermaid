graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    Constant7["Constant[7∈0]"]:::plan
    Constant8["Constant[8∈0]"]:::plan
    Access10["Access[10∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access11["Access[11∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object12["Object[12∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    PgInsert9[["PgInsert[9∈1]"]]:::sideeffectplan
    PgClassExpression13["PgClassExpression[13∈1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    Constant14["Constant[14∈0]"]:::plan
    Constant15["Constant[15∈0]"]:::plan
    Constant16["Constant[16∈0]"]:::plan
    PgInsert17[["PgInsert[17∈1]"]]:::sideeffectplan
    Constant21["Constant[21∈0]"]:::plan
    Constant22["Constant[22∈0]"]:::plan
    PgInsert23[["PgInsert[23∈1]"]]:::sideeffectplan
    PgClassExpression27["PgClassExpression[27∈1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    Constant28["Constant[28∈0]"]:::plan
    Constant29["Constant[29∈0]"]:::plan
    Constant30["Constant[30∈0]"]:::plan
    PgInsert31[["PgInsert[31∈1]"]]:::sideeffectplan
    Constant35["Constant[35∈0]"]:::plan
    Constant36["Constant[36∈0]"]:::plan
    PgInsert37[["PgInsert[37∈1]"]]:::sideeffectplan
    PgClassExpression41["PgClassExpression[41∈1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    Constant42["Constant[42∈0]"]:::plan
    Constant43["Constant[43∈0]"]:::plan
    Constant44["Constant[44∈0]"]:::plan
    PgInsert45[["PgInsert[45∈1]"]]:::sideeffectplan
    PgClassExpression49["PgClassExpression[49∈1]<br />ᐸ__relational_posts__ᐳ"]:::plan
    __InputStaticLeaf50["__InputStaticLeaf[50∈0]"]:::plan
    PgSelect51[["PgSelect[51∈1]<br />ᐸrelational_itemsᐳ"]]:::plan
    First55["First[55∈1]"]:::plan
    PgSelectSingle56["PgSelectSingle[56∈1]<br />ᐸrelational_itemsᐳ"]:::plan
    PgClassExpression57["PgClassExpression[57∈1]<br />ᐸ__relation...s__.”type”ᐳ"]:::plan
    PgPolymorphic58["PgPolymorphic[58∈1]"]:::plan
    PgClassExpression59["PgClassExpression[59∈1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgSelect60[["PgSelect[60∈2]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    First64["First[64∈2]<br />ᐳRelationalTopic"]:::plan
    PgSelectSingle65["PgSelectSingle[65∈2]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]:::plan
    PgSelect68[["PgSelect[68∈2]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    First72["First[72∈2]<br />ᐳRelationalPost"]:::plan
    PgSelectSingle73["PgSelectSingle[73∈2]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression75["PgClassExpression[75∈2]<br />ᐸ__relation...__.”title”ᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression76["PgClassExpression[76∈2]<br />ᐸ__relation...scription”ᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression77["PgClassExpression[77∈2]<br />ᐸ__relation...s__.”note”ᐳ<br />ᐳRelationalPost"]:::plan
    PgSelect79[["PgSelect[79∈2]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    First83["First[83∈2]<br />ᐳRelationalDivider"]:::plan
    PgSelectSingle84["PgSelectSingle[84∈2]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]:::plan
    PgSelect87[["PgSelect[87∈2]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    First91["First[91∈2]<br />ᐳRelationalChecklist"]:::plan
    PgSelectSingle92["PgSelectSingle[92∈2]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]:::plan
    PgSelect95[["PgSelect[95∈2]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    First99["First[99∈2]<br />ᐳRelationalChecklistItem"]:::plan
    PgSelectSingle100["PgSelectSingle[100∈2]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]:::plan
    __InputStaticLeaf102["__InputStaticLeaf[102∈0]"]:::plan
    PgSelect103[["PgSelect[103∈1]<br />ᐸrelational_itemsᐳ"]]:::plan
    First107["First[107∈1]"]:::plan
    PgSelectSingle108["PgSelectSingle[108∈1]<br />ᐸrelational_itemsᐳ"]:::plan
    PgClassExpression109["PgClassExpression[109∈1]<br />ᐸ__relation...s__.”type”ᐳ"]:::plan
    PgPolymorphic110["PgPolymorphic[110∈1]"]:::plan
    PgClassExpression111["PgClassExpression[111∈1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgSelect112[["PgSelect[112∈3]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    First116["First[116∈3]<br />ᐳRelationalTopic"]:::plan
    PgSelectSingle117["PgSelectSingle[117∈3]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]:::plan
    PgSelect120[["PgSelect[120∈3]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    First124["First[124∈3]<br />ᐳRelationalPost"]:::plan
    PgSelectSingle125["PgSelectSingle[125∈3]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression127["PgClassExpression[127∈3]<br />ᐸ__relation...__.”title”ᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression128["PgClassExpression[128∈3]<br />ᐸ__relation...scription”ᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression129["PgClassExpression[129∈3]<br />ᐸ__relation...s__.”note”ᐳ<br />ᐳRelationalPost"]:::plan
    PgSelect131[["PgSelect[131∈3]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    First135["First[135∈3]<br />ᐳRelationalDivider"]:::plan
    PgSelectSingle136["PgSelectSingle[136∈3]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]:::plan
    PgSelect139[["PgSelect[139∈3]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    First143["First[143∈3]<br />ᐳRelationalChecklist"]:::plan
    PgSelectSingle144["PgSelectSingle[144∈3]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]:::plan
    PgSelect147[["PgSelect[147∈3]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    First151["First[151∈3]<br />ᐳRelationalChecklistItem"]:::plan
    PgSelectSingle152["PgSelectSingle[152∈3]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]:::plan
    __InputStaticLeaf154["__InputStaticLeaf[154∈0]"]:::plan
    PgSelect155[["PgSelect[155∈1]<br />ᐸrelational_itemsᐳ"]]:::plan
    First159["First[159∈1]"]:::plan
    PgSelectSingle160["PgSelectSingle[160∈1]<br />ᐸrelational_itemsᐳ"]:::plan
    PgClassExpression161["PgClassExpression[161∈1]<br />ᐸ__relation...s__.”type”ᐳ"]:::plan
    PgPolymorphic162["PgPolymorphic[162∈1]"]:::plan
    PgClassExpression163["PgClassExpression[163∈1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgSelect164[["PgSelect[164∈4]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    First168["First[168∈4]<br />ᐳRelationalTopic"]:::plan
    PgSelectSingle169["PgSelectSingle[169∈4]<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]:::plan
    PgSelect172[["PgSelect[172∈4]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    First176["First[176∈4]<br />ᐳRelationalPost"]:::plan
    PgSelectSingle177["PgSelectSingle[177∈4]<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression179["PgClassExpression[179∈4]<br />ᐸ__relation...__.”title”ᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression180["PgClassExpression[180∈4]<br />ᐸ__relation...scription”ᐳ<br />ᐳRelationalPost"]:::plan
    PgClassExpression181["PgClassExpression[181∈4]<br />ᐸ__relation...s__.”note”ᐳ<br />ᐳRelationalPost"]:::plan
    PgSelect183[["PgSelect[183∈4]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    First187["First[187∈4]<br />ᐳRelationalDivider"]:::plan
    PgSelectSingle188["PgSelectSingle[188∈4]<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]:::plan
    PgSelect191[["PgSelect[191∈4]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    First195["First[195∈4]<br />ᐳRelationalChecklist"]:::plan
    PgSelectSingle196["PgSelectSingle[196∈4]<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]:::plan
    PgSelect199[["PgSelect[199∈4]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    First203["First[203∈4]<br />ᐳRelationalChecklistItem"]:::plan
    PgSelectSingle204["PgSelectSingle[204∈4]<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]:::plan

    %% plan dependencies
    __Value3 --> Access10
    __Value3 --> Access11
    Access10 & Access11 --> Object12
    Object12 & Constant7 & Constant8 --> PgInsert9
    PgInsert9 --> PgClassExpression13
    Object12 & PgClassExpression13 & Constant14 & Constant15 & Constant16 --> PgInsert17
    Object12 & Constant21 & Constant22 --> PgInsert23
    PgInsert23 --> PgClassExpression27
    Object12 & PgClassExpression27 & Constant28 & Constant29 & Constant30 --> PgInsert31
    Object12 & Constant35 & Constant36 --> PgInsert37
    PgInsert37 --> PgClassExpression41
    Object12 & PgClassExpression41 & Constant42 & Constant43 & Constant44 --> PgInsert45
    PgInsert45 --> PgClassExpression49
    Object12 & __InputStaticLeaf50 --> PgSelect51
    PgSelect51 --> First55
    First55 --> PgSelectSingle56
    PgSelectSingle56 --> PgClassExpression57
    PgSelectSingle56 & PgClassExpression57 --> PgPolymorphic58
    PgSelectSingle56 --> PgClassExpression59
    Object12 & PgClassExpression59 --> PgSelect60
    PgSelect60 --> First64
    First64 --> PgSelectSingle65
    Object12 & PgClassExpression59 --> PgSelect68
    PgSelect68 --> First72
    First72 --> PgSelectSingle73
    PgSelectSingle73 --> PgClassExpression75
    PgSelectSingle73 --> PgClassExpression76
    PgSelectSingle73 --> PgClassExpression77
    Object12 & PgClassExpression59 --> PgSelect79
    PgSelect79 --> First83
    First83 --> PgSelectSingle84
    Object12 & PgClassExpression59 --> PgSelect87
    PgSelect87 --> First91
    First91 --> PgSelectSingle92
    Object12 & PgClassExpression59 --> PgSelect95
    PgSelect95 --> First99
    First99 --> PgSelectSingle100
    Object12 & __InputStaticLeaf102 --> PgSelect103
    PgSelect103 --> First107
    First107 --> PgSelectSingle108
    PgSelectSingle108 --> PgClassExpression109
    PgSelectSingle108 & PgClassExpression109 --> PgPolymorphic110
    PgSelectSingle108 --> PgClassExpression111
    Object12 & PgClassExpression111 --> PgSelect112
    PgSelect112 --> First116
    First116 --> PgSelectSingle117
    Object12 & PgClassExpression111 --> PgSelect120
    PgSelect120 --> First124
    First124 --> PgSelectSingle125
    PgSelectSingle125 --> PgClassExpression127
    PgSelectSingle125 --> PgClassExpression128
    PgSelectSingle125 --> PgClassExpression129
    Object12 & PgClassExpression111 --> PgSelect131
    PgSelect131 --> First135
    First135 --> PgSelectSingle136
    Object12 & PgClassExpression111 --> PgSelect139
    PgSelect139 --> First143
    First143 --> PgSelectSingle144
    Object12 & PgClassExpression111 --> PgSelect147
    PgSelect147 --> First151
    First151 --> PgSelectSingle152
    Object12 & __InputStaticLeaf154 --> PgSelect155
    PgSelect155 --> First159
    First159 --> PgSelectSingle160
    PgSelectSingle160 --> PgClassExpression161
    PgSelectSingle160 & PgClassExpression161 --> PgPolymorphic162
    PgSelectSingle160 --> PgClassExpression163
    Object12 & PgClassExpression163 --> PgSelect164
    PgSelect164 --> First168
    First168 --> PgSelectSingle169
    Object12 & PgClassExpression163 --> PgSelect172
    PgSelect172 --> First176
    First176 --> PgSelectSingle177
    PgSelectSingle177 --> PgClassExpression179
    PgSelectSingle177 --> PgClassExpression180
    PgSelectSingle177 --> PgClassExpression181
    Object12 & PgClassExpression163 --> PgSelect183
    PgSelect183 --> First187
    First187 --> PgSelectSingle188
    Object12 & PgClassExpression163 --> PgSelect191
    PgSelect191 --> First195
    First195 --> PgSelectSingle196
    Object12 & PgClassExpression163 --> PgSelect199
    PgSelect199 --> First203
    First203 --> PgSelectSingle204

    %% plan-to-path relationships

    subgraph "Buckets for mutations/basics/create-three-relational-posts"
    Bucket0("Bucket 0<br />(root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,Constant7,Constant8,Access10,Access11,Object12,Constant14,Constant15,Constant16,Constant21,Constant22,Constant28,Constant29,Constant30,Constant35,Constant36,Constant42,Constant43,Constant44,__InputStaticLeaf50,__InputStaticLeaf102,__InputStaticLeaf154 bucket0
    Bucket1("Bucket 1<br />(mutationField)<br />Deps: 12, 7, 8, 14, 15, 16, 21, 22, 28, 29, 30, 35, 36, 42, 43, 44, 50, 102, 154, 5<br /><br />1: PgInsert{1}[9]<br />2: PgClassExpression{1}ᐸ__relation...ems__.”id”ᐳ[13]<br />3: PgInsert{1}[17]<br />4: PgInsert{1}[23]<br />5: PgClassExpression{1}ᐸ__relation...ems__.”id”ᐳ[27]<br />6: PgInsert{1}[31]<br />7: PgInsert{1}[37]<br />8: PgClassExpression{1}ᐸ__relation...ems__.”id”ᐳ[41]<br />9: PgInsert{1}[45]<br />10: PgClassExpression{1}ᐸ__relational_posts__ᐳ[49],PgSelect{1}ᐸrelational_itemsᐳ[51],PgSelect{1}ᐸrelational_itemsᐳ[103],PgSelect{1}ᐸrelational_itemsᐳ[155]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgInsert9,PgClassExpression13,PgInsert17,PgInsert23,PgClassExpression27,PgInsert31,PgInsert37,PgClassExpression41,PgInsert45,PgClassExpression49,PgSelect51,First55,PgSelectSingle56,PgClassExpression57,PgPolymorphic58,PgClassExpression59,PgSelect103,First107,PgSelectSingle108,PgClassExpression109,PgPolymorphic110,PgClassExpression111,PgSelect155,First159,PgSelectSingle160,PgClassExpression161,PgPolymorphic162,PgClassExpression163 bucket1
    Bucket2("Bucket 2<br />(polymorphic(RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem))<br />Deps: 12, 59, 58<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,PgSelect60,First64,PgSelectSingle65,PgSelect68,First72,PgSelectSingle73,PgClassExpression75,PgClassExpression76,PgClassExpression77,PgSelect79,First83,PgSelectSingle84,PgSelect87,First91,PgSelectSingle92,PgSelect95,First99,PgSelectSingle100 bucket2
    Bucket3("Bucket 3<br />(polymorphic(RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem))<br />Deps: 12, 111, 110<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgSelect112,First116,PgSelectSingle117,PgSelect120,First124,PgSelectSingle125,PgClassExpression127,PgClassExpression128,PgClassExpression129,PgSelect131,First135,PgSelectSingle136,PgSelect139,First143,PgSelectSingle144,PgSelect147,First151,PgSelectSingle152 bucket3
    Bucket4("Bucket 4<br />(polymorphic(RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem))<br />Deps: 12, 163, 162<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgSelect164,First168,PgSelectSingle169,PgSelect172,First176,PgSelectSingle177,PgClassExpression179,PgClassExpression180,PgClassExpression181,PgSelect183,First187,PgSelectSingle188,PgSelect191,First195,PgSelectSingle196,PgSelect199,First203,PgSelectSingle204 bucket4
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2 & Bucket3 & Bucket4
    end
