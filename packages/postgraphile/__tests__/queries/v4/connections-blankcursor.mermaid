graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define plans
    __Value0["__Value[0∈0]"]:::plan
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __InputStaticLeaf7["__InputStaticLeaf[7∈0]"]:::plan
    __InputStaticLeaf11["__InputStaticLeaf[11∈0]"]:::plan
    Access29["Access[29∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access30["Access[30∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object31["Object[31∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    Lambda33["Lambda[33∈0]<br />ᐸparseCursorᐳ"]:::plan
    Connection32["Connection[32∈0]<br />ᐸ28ᐳ"]:::plan
    PgPageInfo34["PgPageInfo[34∈0]"]:::plan
    PgValidateParsedCursor39["PgValidateParsedCursor[39∈0]"]:::plan
    Access40["Access[40∈0]<br />ᐸ33.1ᐳ"]:::plan
    ToPg41["ToPg[41∈0]"]:::plan
    PgSelect35[["PgSelect[35∈0]<br />ᐸpersonᐳ"]]:::plan
    First36["First[36∈0]"]:::plan
    PgSelectSingle37["PgSelectSingle[37∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression42["PgClassExpression[42∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List43["List[43∈0]<br />ᐸ42ᐳ"]:::plan
    PgCursor38["PgCursor[38∈0]"]:::plan
    Last45["Last[45∈0]"]:::plan
    PgSelectSingle46["PgSelectSingle[46∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression51["PgClassExpression[51∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List52["List[52∈0]<br />ᐸ51ᐳ"]:::plan
    PgCursor47["PgCursor[47∈0]"]:::plan
    Lambda54["Lambda[54∈0]<br />ᐸlistHasMoreᐳ"]:::plan
    Constant58["Constant[58∈0]"]:::plan
    PgSelect59[["PgSelect[59∈0]<br />ᐸpersonᐳ"]]:::plan
    First60["First[60∈0]"]:::plan
    PgSelectSingle61["PgSelectSingle[61∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression62["PgClassExpression[62∈0]<br />ᐸcount(*)ᐳ"]:::plan
    __Item67>"__Item[67∈1]<br />ᐸ35ᐳ"]:::itemplan
    PgSelectSingle68["PgSelectSingle[68∈1]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression70["PgClassExpression[70∈1]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List71["List[71∈1]<br />ᐸ70ᐳ"]:::plan
    PgCursor69["PgCursor[69∈1]"]:::plan
    PgClassExpression73["PgClassExpression[73∈1]<br />ᐸ__person__...full_name”ᐳ"]:::plan
    PgClassExpression74["PgClassExpression[74∈1]<br />ᐸ__person__.”email”ᐳ"]:::plan
    PgClassExpression75["PgClassExpression[75∈1]<br />ᐸ__person__.”config”ᐳ"]:::plan
    PgClassExpression76["PgClassExpression[76∈1]<br />ᐸ__person__...n_from_ip”ᐳ"]:::plan
    __InputStaticLeaf77["__InputStaticLeaf[77∈0]"]:::plan
    __InputStaticLeaf81["__InputStaticLeaf[81∈0]"]:::plan
    Lambda103["Lambda[103∈0]<br />ᐸparseCursorᐳ"]:::plan
    Connection102["Connection[102∈0]<br />ᐸ98ᐳ"]:::plan
    PgPageInfo104["PgPageInfo[104∈0]"]:::plan
    PgValidateParsedCursor109["PgValidateParsedCursor[109∈0]"]:::plan
    Access110["Access[110∈0]<br />ᐸ103.1ᐳ"]:::plan
    ToPg111["ToPg[111∈0]"]:::plan
    PgSelect105[["PgSelect[105∈0]<br />ᐸpersonᐳ"]]:::plan
    First106["First[106∈0]"]:::plan
    PgSelectSingle107["PgSelectSingle[107∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression112["PgClassExpression[112∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List113["List[113∈0]<br />ᐸ112ᐳ"]:::plan
    PgCursor108["PgCursor[108∈0]"]:::plan
    Last115["Last[115∈0]"]:::plan
    PgSelectSingle116["PgSelectSingle[116∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression121["PgClassExpression[121∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List122["List[122∈0]<br />ᐸ121ᐳ"]:::plan
    PgCursor117["PgCursor[117∈0]"]:::plan
    Lambda124["Lambda[124∈0]<br />ᐸlistHasMoreᐳ"]:::plan
    Constant128["Constant[128∈0]"]:::plan
    PgSelect129[["PgSelect[129∈0]<br />ᐸpersonᐳ"]]:::plan
    First130["First[130∈0]"]:::plan
    PgSelectSingle131["PgSelectSingle[131∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression132["PgClassExpression[132∈0]<br />ᐸcount(*)ᐳ"]:::plan
    __Item137>"__Item[137∈2]<br />ᐸ105ᐳ"]:::itemplan
    PgSelectSingle138["PgSelectSingle[138∈2]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression140["PgClassExpression[140∈2]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List141["List[141∈2]<br />ᐸ140ᐳ"]:::plan
    PgCursor139["PgCursor[139∈2]"]:::plan
    PgClassExpression143["PgClassExpression[143∈2]<br />ᐸ__person__...full_name”ᐳ"]:::plan
    PgClassExpression144["PgClassExpression[144∈2]<br />ᐸ__person__.”email”ᐳ"]:::plan
    PgClassExpression145["PgClassExpression[145∈2]<br />ᐸ__person__.”config”ᐳ"]:::plan
    PgClassExpression146["PgClassExpression[146∈2]<br />ᐸ__person__...n_from_ip”ᐳ"]:::plan

    %% plan dependencies
    __Value3 --> Access29
    __Value3 --> Access30
    Access29 & Access30 --> Object31
    __InputStaticLeaf11 --> Lambda33
    __InputStaticLeaf7 & Lambda33 --> Connection32
    Lambda33 --> PgValidateParsedCursor39
    Lambda33 --> Access40
    Access40 --> ToPg41
    Object31 & Connection32 & Lambda33 & PgValidateParsedCursor39 & ToPg41 --> PgSelect35
    PgSelect35 --> First36
    First36 --> PgSelectSingle37
    PgSelectSingle37 --> PgClassExpression42
    PgClassExpression42 --> List43
    List43 --> PgCursor38
    PgSelect35 --> Last45
    Last45 --> PgSelectSingle46
    PgSelectSingle46 --> PgClassExpression51
    PgClassExpression51 --> List52
    List52 --> PgCursor47
    PgSelect35 --> Lambda54
    Object31 & Connection32 --> PgSelect59
    PgSelect59 --> First60
    First60 --> PgSelectSingle61
    PgSelectSingle61 --> PgClassExpression62
    PgSelect35 ==> __Item67
    __Item67 --> PgSelectSingle68
    PgSelectSingle68 --> PgClassExpression70
    PgClassExpression70 --> List71
    List71 --> PgCursor69
    PgSelectSingle68 --> PgClassExpression73
    PgSelectSingle68 --> PgClassExpression74
    PgSelectSingle68 --> PgClassExpression75
    PgSelectSingle68 --> PgClassExpression76
    __InputStaticLeaf81 --> Lambda103
    __InputStaticLeaf77 & Lambda103 --> Connection102
    Lambda103 --> PgValidateParsedCursor109
    Lambda103 --> Access110
    Access110 --> ToPg111
    Object31 & Connection102 & Lambda103 & PgValidateParsedCursor109 & ToPg111 --> PgSelect105
    PgSelect105 --> First106
    First106 --> PgSelectSingle107
    PgSelectSingle107 --> PgClassExpression112
    PgClassExpression112 --> List113
    List113 --> PgCursor108
    PgSelect105 --> Last115
    Last115 --> PgSelectSingle116
    PgSelectSingle116 --> PgClassExpression121
    PgClassExpression121 --> List122
    List122 --> PgCursor117
    PgSelect105 --> Lambda124
    Object31 & Connection102 --> PgSelect129
    PgSelect129 --> First130
    First130 --> PgSelectSingle131
    PgSelectSingle131 --> PgClassExpression132
    PgSelect105 ==> __Item137
    __Item137 --> PgSelectSingle138
    PgSelectSingle138 --> PgClassExpression140
    PgClassExpression140 --> List141
    List141 --> PgCursor139
    PgSelectSingle138 --> PgClassExpression143
    PgSelectSingle138 --> PgClassExpression144
    PgSelectSingle138 --> PgClassExpression145
    PgSelectSingle138 --> PgClassExpression146

    %% plan-to-path relationships
    P0["~"]
    __Value0 -.-> P0
    P32["ᐳblankCursor"]
    Connection32 -.-> P32
    P34["ᐳb…rᐳpageInfo"]
    PgPageInfo34 -.-> P34
    P35["ᐳb…rᐳedges"]
    PgSelect35 -.-> P35
    P38["ᐳb…rᐳp…oᐳstartCursor"]
    PgCursor38 -.-> P38
    P47["ᐳb…rᐳp…oᐳendCursor"]
    PgCursor47 -.-> P47
    P54["ᐳb…rᐳp…oᐳhasNextPage"]
    Lambda54 -.-> P54
    P58["ᐳb…rᐳp…oᐳhasPreviousPage"]
    Constant58 -.-> P58
    P62["ᐳb…rᐳtotalCount"]
    PgClassExpression62 -.-> P62
    P68["ᐳb…rᐳedges[]<br />ᐳb…rᐳe…]ᐳnode"]
    PgSelectSingle68 -.-> P68
    P69["ᐳb…rᐳe…]ᐳcursor"]
    PgCursor69 -.-> P69
    P70["ᐳb…rᐳe…]ᐳnodeᐳid"]
    PgClassExpression70 -.-> P70
    P73["ᐳb…rᐳe…]ᐳnodeᐳname"]
    PgClassExpression73 -.-> P73
    P74["ᐳb…rᐳe…]ᐳnodeᐳemail"]
    PgClassExpression74 -.-> P74
    P75["ᐳb…rᐳe…]ᐳnodeᐳconfig"]
    PgClassExpression75 -.-> P75
    P76["ᐳb…rᐳe…]ᐳnodeᐳlastLoginFromIp"]
    PgClassExpression76 -.-> P76
    P102["ᐳinvalidCursor"]
    Connection102 -.-> P102
    P104["ᐳi…rᐳpageInfo"]
    PgPageInfo104 -.-> P104
    P105["ᐳi…rᐳedges"]
    PgSelect105 -.-> P105
    P108["ᐳi…rᐳp…oᐳstartCursor"]
    PgCursor108 -.-> P108
    P117["ᐳi…rᐳp…oᐳendCursor"]
    PgCursor117 -.-> P117
    P124["ᐳi…rᐳp…oᐳhasNextPage"]
    Lambda124 -.-> P124
    P128["ᐳi…rᐳp…oᐳhasPreviousPage"]
    Constant128 -.-> P128
    P132["ᐳi…rᐳtotalCount"]
    PgClassExpression132 -.-> P132
    P138["ᐳi…rᐳedges[]<br />ᐳi…rᐳe…]ᐳnode"]
    PgSelectSingle138 -.-> P138
    P139["ᐳi…rᐳe…]ᐳcursor"]
    PgCursor139 -.-> P139
    P140["ᐳi…rᐳe…]ᐳnodeᐳid"]
    PgClassExpression140 -.-> P140
    P143["ᐳi…rᐳe…]ᐳnodeᐳname"]
    PgClassExpression143 -.-> P143
    P144["ᐳi…rᐳe…]ᐳnodeᐳemail"]
    PgClassExpression144 -.-> P144
    P145["ᐳi…rᐳe…]ᐳnodeᐳconfig"]
    PgClassExpression145 -.-> P145
    P146["ᐳi…rᐳe…]ᐳnodeᐳlastLoginFromIp"]
    PgClassExpression146 -.-> P146

    subgraph "Buckets for queries/v4/connections-blankcursor"
    Bucket0("Bucket 0 (root)<br />~<br />⠀ROOT ᐸ-O- 0<br />⠀⠀blankCursor ᐸ-O- 32<br />⠀⠀⠀blankCursor.pageInfo ᐸ-O- 34<br />⠀⠀⠀⠀blankCursor.pageInfo.startCursor ᐸ-L- 38<br />⠀⠀⠀⠀blankCursor.pageInfo.endCursor ᐸ-L- 47<br />⠀⠀⠀⠀blankCursor.pageInfo.hasNextPage ᐸ-L- 54<br />⠀⠀⠀⠀blankCursor.pageInfo.hasPreviousPage ᐸ-L- 58<br />⠀⠀⠀blankCursor.edges ᐸ-A- 35<br />⠀⠀⠀blankCursor.totalCount ᐸ-L- 62<br />⠀⠀invalidCursor ᐸ-O- 102<br />⠀⠀⠀invalidCursor.pageInfo ᐸ-O- 104<br />⠀⠀⠀⠀invalidCursor.pageInfo.startCursor ᐸ-L- 108<br />⠀⠀⠀⠀invalidCursor.pageInfo.endCursor ᐸ-L- 117<br />⠀⠀⠀⠀invalidCursor.pageInfo.hasNextPage ᐸ-L- 124<br />⠀⠀⠀⠀invalidCursor.pageInfo.hasPreviousPage ᐸ-L- 128<br />⠀⠀⠀invalidCursor.edges ᐸ-A- 105<br />⠀⠀⠀invalidCursor.totalCount ᐸ-L- 132"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value0,__Value3,__InputStaticLeaf7,__InputStaticLeaf11,Access29,Access30,Object31,Connection32,Lambda33,PgPageInfo34,PgSelect35,First36,PgSelectSingle37,PgCursor38,PgValidateParsedCursor39,Access40,ToPg41,PgClassExpression42,List43,Last45,PgSelectSingle46,PgCursor47,PgClassExpression51,List52,Lambda54,Constant58,PgSelect59,First60,PgSelectSingle61,PgClassExpression62,__InputStaticLeaf77,__InputStaticLeaf81,Connection102,Lambda103,PgPageInfo104,PgSelect105,First106,PgSelectSingle107,PgCursor108,PgValidateParsedCursor109,Access110,ToPg111,PgClassExpression112,List113,Last115,PgSelectSingle116,PgCursor117,PgClassExpression121,List122,Lambda124,Constant128,PgSelect129,First130,PgSelectSingle131,PgClassExpression132 bucket0
    Bucket1("Bucket 1 (item67)<br />Deps: 35<br />~ᐳQuery.blankCursorᐳPeopleConnection.edges[]<br />⠀ROOT ᐸ-O- 68<br />⠀⠀node ᐸ-O- 68<br />⠀⠀⠀node.id ᐸ-L- 70<br />⠀⠀⠀node.name ᐸ-L- 73<br />⠀⠀⠀node.email ᐸ-L- 74<br />⠀⠀⠀node.config ᐸ-L- 75<br />⠀⠀⠀node.lastLoginFromIp ᐸ-L- 76<br />⠀⠀cursor ᐸ-L- 69"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item67,PgSelectSingle68,PgCursor69,PgClassExpression70,List71,PgClassExpression73,PgClassExpression74,PgClassExpression75,PgClassExpression76 bucket1
    Bucket2("Bucket 2 (item137)<br />Deps: 105<br />~ᐳQuery.invalidCursorᐳPeopleConnection.edges[]<br />⠀ROOT ᐸ-O- 138<br />⠀⠀node ᐸ-O- 138<br />⠀⠀⠀node.id ᐸ-L- 140<br />⠀⠀⠀node.name ᐸ-L- 143<br />⠀⠀⠀node.email ᐸ-L- 144<br />⠀⠀⠀node.config ᐸ-L- 145<br />⠀⠀⠀node.lastLoginFromIp ᐸ-L- 146<br />⠀⠀cursor ᐸ-L- 139"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item137,PgSelectSingle138,PgCursor139,PgClassExpression140,List141,PgClassExpression143,PgClassExpression144,PgClassExpression145,PgClassExpression146 bucket2
    Bucket0 --> Bucket1 & Bucket2
    end
